{"mappings":"AAEA,MAAMA,EAAO,CACXC,QAASC,SAASC,cAAc,SAChCC,cAAeF,SAASC,cAAc,6BACtCE,aAAcH,SAASC,cAAc,4BACrCG,UAAWJ,SAASC,cAAc,8BAClCI,aAAcL,SAASC,cAAc,WAGvC,IAAIK,EAAS,KAETC,EAAU,EAEVC,GADQV,EAAKI,cAAgBJ,EAAKK,aAAaM,MAClCX,EAAKI,cAAcO,OAiBpC,SAASC,EAAcC,EAAUC,GAW/B,OAVgB,IAAIC,SAAQ,CAACC,EAASC,KACxB,EACUC,KAAKC,QAKnB,G,CAvBZnB,EAAKC,QAAQmB,iBAAiB,UAE9B,SAAyBC,GACvBA,EAAMC,iBACNd,EAASR,EAAKM,UAAUK,MACxB,MAAMY,EAAQvB,EAAKK,aAAaM,MAGhC,GAFAF,GAAW,EAEPA,EAAUD,EACZ,OAGFgB,YAAYZ,EAjBC,EAiBuBW,GAAQb,E,IAiB9CE,IACGa,MAAK,EAAGC,SAAAC,EAAUb,MAAAc,MACjBC,QAAQC,IAAI,uBAAqBH,QAAiBC,MAAU,IAE7DG,OAAM,EAAGL,SAAAM,EAAUlB,MAAAmB,MAClBJ,QAAQC,IAAI,sBAAoBE,QAAeC,MAAU","sources":["src/js/03-promises.js"],"sourcesContent":["// import { Confirm } from 'notiflix/build/notiflix-confirm-aio';\n\nconst refs = {\n  formRef: document.querySelector('.form'),\n  firstDelayRef: document.querySelector('.form input[name=\"delay\"]'),\n  delayStepref: document.querySelector('.form input[name=\"step\"]'),\n  amountRef: document.querySelector('.form input[name=\"amount\"]'),\n  btnSubmitRef: document.querySelector('button'),\n};\n\nlet amount = null;\nlet position = 0;\nlet counter = 0;\nlet delay = refs.firstDelayRef + refs.delayStepref.value;\nlet firstDelay = refs.firstDelayRef.value;\n\nrefs.formRef.addEventListener('submit', onSubmitHandler);\n\nfunction onSubmitHandler(event) {\n  event.preventDefault();\n  amount = refs.amountRef.value;\n  const delay = refs.delayStepref.value;\n  counter += 1;\n\n  if (counter > amount) {\n    return;\n  }\n\n  setInterval(createPromise(position, delay), firstDelay);\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    position += 1;\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      resolve;\n    } else {\n      reject;\n    }\n  });\n  return promise;\n}\n\ncreatePromise(position, delay)\n  .then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n"],"names":["$47d4ff9957288465$var$refs","formRef","document","querySelector","firstDelayRef","delayStepref","amountRef","btnSubmitRef","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$counter","$47d4ff9957288465$var$firstDelay","value","$47d4ff9957288465$var$createPromise","position1","delay","Promise","resolve","reject","Math","random","addEventListener","event","preventDefault","delay1","setInterval","then","position","position2","delay2","console","log","catch","position3","delay3"],"version":3,"file":"03-promises.12776846.js.map"}